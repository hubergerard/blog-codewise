---
layout: post
title: "Javascript - Les fonctions"
date: 2021-12-28 9:14:00 +0100
description: "Dans cet article, vous allez apprendre comment utiliser les fonctions en javascript"
tags: developpement web javascript
categories: [Développement web]
author: "lucas"
post_image: "/assets/img/blog/javascript-fonctions/cover_js_function.png"
toc-text-mode: false
toc-depth: 5
author: lucas
lang: fr
---

<div id="toc" class="blog-toc"></div>

<a id="definition" class="anchor"></a>
<h2>Définition</h2>

<p>
Les fonctions font partie des “briques de base” de la programmation, et particulièrement en JavaScript.
</p>

<p>
Une fonction permet de regrouper des instructions dans un même bloc, relativement indépendant du reste du programme, afin de réaliser un certain traitement.
</p>

<p>
Une fonction peut être nommée, ce qui permet notamment sa réutilisabilité.
</p>

<a id="eviter-duplication" class="anchor"></a>
<h2>Éviter la duplication de code</h2>

<p>
Un programme est souvent amené à répéter des opérations au cours de son exécution.
</p>

<p>
Exemple  : calculer la moyenne de plusieurs notes.
</p>

<p>
On peut observer deux blocs de code très similaires.
</p>

{% highlight js linenos %}
const billsRatings = [9, 14, 12];
const marysRatings = [15, 11, 13.5];

let billsSum = 0;
for (let index = 0 ; index < billsRatings.length ; index++) {
  billsSum += billsRatings[index];
}
const billsAverage = billsSum /  billsRatings.length;

let marysSum = 0;
for (let index = 0 ; index < marysRatings.length ; index++) {
  marysSum += marysRatings[index];
}
const marysAverage = marysSum /  marysRatings.length;
{% endhighlight %} 

<p>
On remarque que le même algorithme est utilisé sur des données différentes.
</p>

<p>
Nous allons factoriser l'algorithme : le déplacer dans une fonction qui nous fera gagner des lignes de codes et en plus de ça sera réutilisable :
</p>

{% highlight js linenos %}
function computeAverage(ratings) {
    let sum = 0;
    for (let index = 0 ; index < ratings.length ; index++) {
        sum += ratings[index];
    }
    return sum /  ratings.length;
}

const billsRatings = [9, 14, 12];
const marysRatings = [15, 11, 13.5];
// On appelle la fonction à deux reprises
const billsAverage = computeAverage(billsRatings);
const marysAverage = computeAverage(marysRatings);
{% endhighlight %} 

<a id="limiter-erreurs" class="anchor"></a>
<h2>Limiter les risques d'erreurs</h2>

<p>
Même un petit bloc de code, comme une formule mathématique, se prête à la factorisation en fonction : répéter plusieurs fois une même formule multiplie le risque d’une erreur d’inattention.
</p>

<p>
Formule : tempCelsius = (tempFahrenheit - 32) * 5 / 9
</p>

{% highlight js linenos %}
const temperatureSeattleF = 66;
const temperatureDenverF = 92;
const temperatureChicagoF = 84;

const temperatureSeattleC = (temperatureSeattleF - 32) * 5 / 9;
const temperatureDenverC = (temperatureDenverF - 32) * 5 / 9;
// Oops
const temperatureChicagoC = (temperatureChicagoF - 32) / 5 * 9;
{% endhighlight %} 

<a id="analogie" class="anchor"></a>
<h2>Analogie</h2>

<p>
Une fonction effectue un traitement bien spécifique, sur des données entrantes, et de ce traitement est issue une valeur de retour.
</p>

<p>
Un peu comme un blender, qui prend en entrée des ingrédients, les transforme, et en sortie duquel on obtient… un milkshake par exemple !
</p>

<a id="declarer-appeler" class="anchor"></a>
<h2>Déclarer et appeler une fonction</h2>

<p>
Dans sa forme classique, une fonction :
</p>

<ul>
    <li>
        est précédée du mot-clé function.
    </li>
    <li>
        est nommée, avec les mêmes règles que pour les variables.
    </li>
    <li>
        peut avoir des paramètres, indiqués dans les parenthèses après le nom.
    </li>
    <li>
        contient un bloc d’instructions entre accolades, placé après les parenthèses.
    </li>
    <li>
        peut renvoyer une valeur, via le mot-clé return; ce mot clé interrompt l'exécution de la fonction.
    </li>
</ul>

<p>
Une fois écrite, la fonction peut être appelée, autant de fois que nécessaire, avec des arguments pouvant varier. 
</p>

{% highlight js linenos %}
// The function name is add
// a and b are the parameters
function add(a, b) {
 // returns the sum
 return a + b;
}

// 4 and 6 are the arguments
const result = add(4, 6); // => 10
{% endhighlight %}

<a id="anonyme-fonction" class="anchor"></a>
<h2>Les fonctions anonymes</h2>

<p>
On peut écrire une fonction sans lui donner de nom. Cette fonction sera dite anonyme.
On utilise souvent  les fonctions anonymes quand on doit passer une fonction en paramètre d’une autre fonction.
</p>

{% highlight js linenos %}
// setTimeout expects a function as first argument
// this function has no name, it is an anonymous function
setTimeout(function(message){
    console.log("Hello !");
}, 1000);
{% endhighlight %}

<a id="variable-fonction" class="anchor"></a>
<h2>Affecter une fonction à une variable</h2>

<p>
On peut affecter une fonction à une variable.
On  utilise le nom de la variable pour appeler la fonction.
Cette pratique est recommandée pour éviter des conflits possibles lors de la déclaration de fonctions nommées.
</p>

{% highlight js linenos %}
const add = function (a, b) {
    return a + b;
   }
   
   const result = add(4, 6);
{% endhighlight %}

<a id="fonction-flechee" class="anchor"></a>
<h2>La fonction fléchée</h2>

<p>
En javascript nous disposons de plusieurs syntaxes pour déclarer une fonction, la déclaration basique, la fonction dans la variable et maintenant la fonction fléchée qui reprend un peu de la dernière.
</p>

<p>
La fonction "function" :
</p>

{% highlight js linenos %}
const add = function (a, b) {
    return a + b;
   }
{% endhighlight %}

<p>
La fonction intermédiaire :
</p>

{% highlight js linenos %}
const add = (a, b) => {
    return a + b;
   }
{% endhighlight %}

<p>
La fonction "fat arrow" :
</p>

{% highlight js linenos %}
const add = (a, b) => a + b;
{% endhighlight %}


<a id="conclusion" class="anchor"></a>
<h2>Conclusion</h2>

<p>
Vous venez de découvrir les fonctions en JavaScript. 
Si vous avez des idées d’amélioration pour cet article, laissez-nous un commentaire !
</p>

<p>
Et si vous avez réussi à tout suivre, vous pouvez passer au chapitre suivant : “Javascript - Les objets littéraux”
</p>