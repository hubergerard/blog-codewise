---
layout: post
title: "TP Javascript - Concevoir un jeu dans le navigateur"
date: 2021-12-27 9:14:00 +0100
description: "Vous voulez apprendre à développer un jeu ? Dans cet article, vous trouverez un exercice guidé pour concevoir un mini-jeu sur navigateur en JS."
tags: developpement web javascript
categories: [Développement web]
author: "lucas"
post_image: "/assets/img/blog/javascript-catgame/cover_js_catgame.png"
toc-text-mode: false
toc-depth: 5
author: lucas
lang: fr
---

<p> Pour cet exercice, vous aurez besoin d'avoir des bases en JavaScript, et en manipulation du DOM avec JavaScript.</p>

<a id="but-du-jeu" class="anchor"></a>
<h2>But du jeu</h2>

<p>
    Le but du jeu est simple : il faut réussir à cliquer sur le chat !
</p>

<a id="consigne" class="anchor"></a>
<h2>Consigne</h2>

<p>Votre but en tant que développeur est de créer ce jeu. Pour démarrer, voici un fichier HTML :</p>

{% highlight html linenos %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cliquez sur le chat !</title>
</head>
<body>
    <h1>Cliquez sur le chat</h1>
    <img src="https://placekitten.com/g/200/300" alt="chat incliquable" id="image-chat">
</body>
</html>
{% endhighlight %} 

<p>Votre but est d'ajouter un script JS à ce fichier tel que :</p>

<ul>
    <li>
        Lorsque la souris survole l’image du chat, l’image se déplace de manière aléatoire dans la fenêtre de l’utilisateur
    </li>
    <li>
        Si l’utilisateur réussit à cliquer sur l’image, une popup s'ouvre qui annonce : "Vous avez gagné !"
    </li>
</ul>

<p>Voilà tout ! Vous ne voyez pas comment faire ? Voici quelques indications pour vous aider.</p>

<a id="indications" class="anchor"></a>
<h2>Indications</h2> 

<ul>
    <li>
        Commencez par ajoutez une balise link ou une balise script pour y entrer votre script.
    </li>
    <li>
        L'évènement qui déclenche un déplacement de l'image est "mouseover".
    </li>
    <li>
        Récupérer la largeur / longueur de l'écran : window.innerWidth et window.innerHeight.
    </li>
    <li>
        Générer un nombre entier aléatoire entre 0 et "max" : <code>Math.floor(Math.random() * max)</code> 
    </li>
    <li>
        Il y a plusieurs manières de positionner un élément via du CSS ! Une de ces méthodes est d'ajouter la propriété CSS "<code>position: absolute</code>" sur l'image et de régler les propriétés <code>top</code> et <code>left</code>.
    </li>
    <li>
        Ouvrir une fenêtre pop-up (pour annoncer la victoire) : alert('Vous avez gagné !')
    </li>
</ul>




<a id="correction" class="anchor"></a>
<h2>Correction</h2>

<p>Vous ne vous en sortez pas ? Cliquez sur le bouton pour découvrir la correction !</p>

<button class="btn btn-primary mb-4" type="button" data-bs-toggle="collapse" data-bs-target="#collapseId" aria-expanded="false" aria-controls="collapseId">
    Afficher / Cacher la correction
</button>

<div class="collapse" id="collapseId">
{% highlight html linenos %}
<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Cliquez sur le chat !</title>
    </head>

    <body>
        <h1>Cliquez sur le chat</h1>
        <img src="https://placekitten.com/g/200/300" alt="chat incliquable" id="image-chat">
        <script>
            const imgChat = document.getElementById('image-chat');
            imgChat.style.position = 'absolute';
            imgChat.addEventListener('mouseover', (event) => {
                const top = Math.round(Math.random() * (innerHeight - event.target.height));
                const left = Math.round(Math.random() * (innerWidth - event.target.width));
                event.target.style.top = top + 'px';
                event.target.style.left = left + 'px';
            });
            imgChat.addEventListener('click', () => {
                if (confirm('Voulez-vous vraiment cliquer sur le chat ?') 
                    && confirm('Vous êtes vraiment sûr de vouloir cliquer sur ce chat ?')) {
                    alert('Félicitations ! Vous avez gagné :D')
                }
            })
        </script>
    </body>

</html>
{% endhighlight %} 
</div>

<a id="conclusion" class="anchor"></a>
<h2>Conclusion</h2>

<p>
Si vous avez des idées d’amélioration pour cet article, laissez-nous un commentaire !
</p>
